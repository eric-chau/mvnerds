{% extends 'MVNerdsAdminBundle:Role:layout.html.twig' %}

{% block title %}Administration des rôles - MVNerds{% endblock %}

{% block javascripts %}
	{{ parent() }}

	<script type="text/javascript">
		$(document).ready(function()
		{
			$('a.btn-submit-form').on('click', function()
			{
				$('input[type="submit"].submit-form').trigger('click');
			});
		});
	</script>
{% endblock %}

{% block content %}
	<h1>Ajouter un rôle</h1>

	<div class="action-buttons">
		<a href="{{ path('admin_roles_index') }}" class="btn"><i class="icon-arrow-left"></i> <strong>Retourner à la liste</strong></a>
		<a href="#" class="btn btn-success btn-large pull-right btn-submit-form"><i class="icon-ok icon-white"></i> <strong>J'ai terminé</strong></a>
		<a href="{{ path('admin_roles_index') }}" class="btn pull-right btn-danger"><strong>Annuler</strong></a>
	</div>

	<div class="content-container">
		<form action="{{ path('admin_role_edit', {'id': role.getId()}) }}" method="POST" {{ form_enctype(form) }}>
			{% if form.vars.errors|length > 0 %}
				<div class="alert alert-error">
					{% include ':Form:render_form_errors.html.twig' with {'item': form} %}
				</div>
			{% endif %}
			
			<div class="row-fluid">
				<div class="span3">
					<label>Idenfiant</label>
				</div>
				<div class="span9">
					{{ role.getId() }}
				</div>
			</div>
				
			<div class="row-fluid">
				<div class="span3">
					{{ form_label(form.label) }}
				</div>
				<div class="span4">
					{{ form_widget(form.label) }}
				</div>
				<div class="span5 span-errors">
					{% include ':Form:render_form_errors.html.twig' with {'item': form.label} %}
				</div>
			</div>
				
			<div class="row-fluid">
				<div class="span3">
					{{ form_label(form.uniqueName) }}
				</div>
				<div class="span4">
					{{ form_widget(form.uniqueName) }}
				</div>
				<div class="span5 span-errors">
					{% include ':Form:render_form_errors.html.twig' with {'item': form.uniqueName} %}
				</div>
			</div>
				
			{{ form_rest(form) }}

			<input type="submit" class="submit-form hide" />
		</form>
	</div>
{% endblock %}