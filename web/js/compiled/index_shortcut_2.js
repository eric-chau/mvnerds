var $btnCompare=$("a#btn-compare"),$searchInputText=$('input[type="text"]#filter-value'),$btnComparisonList=$("a#drop-comparison-list"),$btnHelp=$("li.help-action"),$btnFilter=$("a#drop-filter-list"),isFirstActionAfterGT=false;var ctrlDown=false,ctrlKey=17,escapeKey=27,compareShortcut=67,listShortcut=76,filterShortcut=70,searchShortcut,guideShortcut;if(locale=="fr"){searchShortcut=82;guideShortcut=86}else{searchShortcut=83;guideShortcut=71}$(document).ready(function(){$(document).keydown(function(a){if(a.which==ctrlKey){ctrlDown=true}}).keyup(function(a){if(a.which==ctrlKey){ctrlDown=false}});$("body").bind("keyup",function(a){shortcutListener(a)});$('input[type="email"]#user_email, input[type="text"]#filter-value').on("focus",function(){$("body").unbind("keyup");$searchInputText.bind("keyup",function(a){if(a.which==escapeKey){$(this).blur()}})});$('input[type="email"]#user_email, input[type="text"]#filter-value').on("blur",function(){$("body").bind("keyup",function(a){shortcutListener(a)})})});function shortcutListener(a){if(isFirstActionAfterGT){isFirstActionAfterGT=false;return false}if(ctrlDown){return false}switch(a.which){case compareShortcut:if($btnCompare.hasClass("disabled")){return false}$btnCompare.trigger("click");break;case searchShortcut:$(".dropdown.open .dropdown-toggle").dropdown("toggle");$searchInputText[0].selectionStart=$searchInputText[0].selectionEnd=$searchInputText.val().length;break;case listShortcut:$btnComparisonList.trigger("click");break;case filterShortcut:$btnFilter.trigger("click");break;case guideShortcut:$(".dropdown.open .dropdown-toggle").dropdown("toggle");$btnHelp.trigger("click");default:break}};